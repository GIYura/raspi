#### СОДЕРЖАНИЕ

```
src-01 - пример 'Hello World' для ядра;
src-02 - пример регистрации в ядре устройства;
src-03 - пример функций чтения/записи;
src-04 - пример простого gpio драйвера;
src-05 - пример LCD драйвера;
src-06 - пример LCD драйвера;
src-07 - пример драйвера датчика DS18B20;
src-08 - пример использования таймера;
src-09 - пример чтения температуры с датчика DS18B20 (TODO: перенести в src-07);
src-10 - пример драйвера датчика BMP280 (i2c);
src-11 - пример драйвера датчика BMP280 (spi);
src-12 - использования прерываний на примере gpio дравйвера;
src-13 - пример передачи параметров драйверу;
src-14 - пример успользования ioctl;
src-15 - пример использования потоков в ядре;
src-16 - пример gpio irq (TODO: перенести в src-12);
src-17 - пример gpio irq polling;
src-18 - пример использования очереди в ядре;
src-19 - пример создания записи procfs;
src-20 - пример создания записи sysfs;
src-21 - пример дерева устройств (ч.1);
src-22 - пример дерева устройств (ч.2);
src-25 - пример использования uart loop;
src-26 - пример дерева устройств (ч.3);
```

#### Базовые понятия о модулях ядра

Все модули находятся в каталоге /lib/modules/
Модули собираются под определенную версию ядра.

#### Основные команды

- lsmod - посмотреть загруженные модули
- modinfo - информация о модуле
- insmod - загрузить модуль
- rmmod - удалить модуль

Информация о загруженных модулях:

```
cat /proc/modules
```
```
sudo  lsmod | grep [module name]
```
Подробная информация о модуле:

```
modinfo [module nmae]
```

#### Блокирование загрузки модулей

Иногда нужно заблокировать некоторые модули, для этого их можно внести в черный список.
Для этого нужно отредактировать файл:
```
sudo vim /etc/modprobe.d/blacklist.conf 
```
и добавить в конец файла строку:
```
blacklist [module name]
```

#### Автозагрузка модулей

Для добавления модуля при загрузке необходимо снести его в файл:

```
sudo vim /etc/modules-load.d/modules.conf
```
и в конец файла добавить стоку с именем модуля

